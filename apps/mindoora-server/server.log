
> server@1.0 dev /Users/tanviralam/Projects/mindoora/apps/mindoora-server
> NODE_ENV=development ts-node-dev -r tsconfig-paths/register index.ts --max-old-space-size=4096

[INFO] 22:14:39 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.8.3)
Server listening at http://localhost:8080
Server listening from http://localhost:3020
Connected to the PostgreSQL database
🔐 Attempting JWT verification with secret length: 22
❌ JWT Authentication Error: jwt malformed
[INFO] 22:15:32 Restarting: /Users/tanviralam/Projects/mindoora/apps/mindoora-server/controllers/game/gameRoom.controller.ts has been modified
Server listening at http://localhost:8080
Server listening from http://localhost:3020
Connected to the PostgreSQL database
[INFO] 22:15:40 Restarting: /Users/tanviralam/Projects/mindoora/apps/mindoora-server/controllers/game/gameRoom.controller.ts has been modified
Server listening at http://localhost:8080
Server listening from http://localhost:3020
Connected to the PostgreSQL database
❌ No authorization token provided
🔍 OAUTH LOGIN CONTROLLER CALLED
📨 OAuth request body: {
  name: 'Demo User (Google)',
  email: 'demo.user@gmail.com',
  image: 'https://via.placeholder.com/150',
  provider: 'google',
  providerId: 'google_1754425020964',
  verified: true
}
🌐 IP Address: ::ffff:127.0.0.1
🖥️ User Agent: Expo/2.33.13 CFNetwork/1496.0.7 Darwin/23.5.0
📊 CREATING LOGIN HISTORY: {
  userId: '6649c771-14d5-4a77-9058-d8502a90523c',
  loginMethod: 'google',
  ipAddress: '::ffff:127.0.0.1',
  userAgent: 'Expo/2.33.13 CFNetwork/1496.0.7 Darwin/23.5.0'
}
✅ LOGIN HISTORY CREATED SUCCESSFULLY with status: LOGGED IN
OAuth providers table not found, skipping provider tracking
🔐 Attempting JWT verification with secret length: 22
✅ JWT verified successfully for user: demo.user@gmail.com
✅ User found in database: demo.user@gmail.com
🔐 Attempting JWT verification with secret length: 22
✅ JWT verified successfully for user: demo.user@gmail.com
✅ User found in database: demo.user@gmail.com
🔐 Attempting JWT verification with secret length: 22
✅ JWT verified successfully for user: demo.user@gmail.com
✅ User found in database: demo.user@gmail.com
🔐 Attempting JWT verification with secret length: 22
✅ JWT verified successfully for user: demo.user@gmail.com
✅ User found in database: demo.user@gmail.com
Error starting game: error: invalid input value for enum game_status: "started"
    at /Users/tanviralam/Projects/mindoora/node_modules/.pnpm/pg-pool@3.10.1_pg@8.16.3/node_modules/pg-pool/index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5) {
  length: 138,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $1 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'enum.c',
  line: '133',
  routine: 'enum_in'
}
